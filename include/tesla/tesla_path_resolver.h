/*\n * Tesla Dynamic Path Resolution System\n * \n * Fixes hardcoded path dependencies by implementing runtime\n * executable location detection for true portability.\n * \n * Solves the \"src/tools/...\" hardcoding issue that breaks\n * when the compiler is installed to system locations.\n */\n\n#ifndef TESLA_PATH_RESOLVER_H\n#define TESLA_PATH_RESOLVER_H\n\n#include <stddef.h>\n#include <stdbool.h>\n\n/*\n * Tesla Installation Layout\n * \n * When installed, the Aria compiler follows this structure:\n * /usr/local/bin/aria          (main executable)\n * /usr/local/lib/aria/tools/   (bundled tools)\n * /usr/local/share/aria/lib/   (standard library)\n */\n\n/*\n * Get the absolute directory path containing the current executable\n * \n * Uses /proc/self/exe on Linux for reliable self-location.\n * \n * @return Dynamically allocated string with directory path, or NULL on failure\n *         Caller must free() the returned string\n */\nchar* tesla_get_executable_dir(void);\n\n/*\n * Construct absolute path to a tool relative to compiler installation\n * \n * @param relative_tool_path Path relative to installation (e.g., \"tools/llvm-mc\")\n * @return Dynamically allocated absolute path, or NULL on failure\n *         Caller must free() the returned string\n */\nchar* tesla_resolve_tool_path(const char* relative_tool_path);\n\n/*\n * Get path to LLVM tool based on installation layout\n * \n * @param tool_name LLVM tool name (e.g., \"llvm-mc\", \"llc\", \"opt\")\n * @return Dynamically allocated absolute path, or NULL on failure\n *         Caller must free() the returned string\n */\nchar* tesla_get_llvm_tool_path(const char* tool_name);\n\n/*\n * Get path to NASM executable\n * \n * @return Dynamically allocated absolute path, or NULL if not found\n *         Caller must free() the returned string\n */\nchar* tesla_get_nasm_path(void);\n\n/*\n * Get path to Aria standard library directory\n * \n * @return Dynamically allocated absolute path, or NULL on failure\n *         Caller must free() the returned string\n */\nchar* tesla_get_stdlib_path(void);\n\n/*\n * Check if a tool exists and is executable\n * \n * @param tool_path Path to tool executable\n * @return true if tool exists and is executable, false otherwise\n */\nbool tesla_tool_exists(const char* tool_path);\n\n/*\n * Initialize path resolution system\n * \n * Detects installation layout and caches common paths for performance.\n * Should be called once during compiler startup.\n * \n * @return 0 on success, -1 on failure\n */\nint tesla_path_resolver_init(void);\n\n/*\n * Cleanup path resolution system\n * \n * Frees cached paths and resources.\n */\nvoid tesla_path_resolver_cleanup(void);\n\n#endif /* TESLA_PATH_RESOLVER_H */